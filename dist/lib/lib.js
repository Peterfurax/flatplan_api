"use strict";var dataFile=require("../provider/data"),data=dataFile,lib=[];lib.productIdx=function(n){return new Promise(function(t,i){var o=data.map(function(n){return n.produit}).indexOf(n);o<0&&i("lib.productIdx() => Product index not found "),t(o)})},lib.parutionIdx=function(n,t){return new Promise(function(i,o){var r=data[n].parution.map(function(n){return n.parution}).indexOf(t.params.parution);r<0&&o("lib.parutionIdx() => Parution index not found "),i(r)})},lib.folioIdx=function(n,t,i){return new Promise(function(o,r){var u=data[n].parution[t].folio.map(function(n){return n.page}).indexOf(i.params.folio);u<0&&r("lib.folioIdx() => folio index not found "),o(u)})},lib.productParution=function(n){return new Promise(function(t,i){lib.productIdx(n.params.produit).then(function(o){lib.parutionIdx(o,n).then(function(n){t({productIdx:o,parutionIdx:n})}).catch(function(n){return i(n)})}).catch(function(n){return i(n)})})},lib.productParutionFolio=function(n){return new Promise(function(t,i){lib.productIdx(n.params.produit).then(function(o){lib.parutionIdx(o,n).then(function(r){lib.folioIdx(o,r,n).then(function(n){t({productIdx:o,parutionIdx:r,folioIdx:n})}).catch(function(n){return i(n)})}).catch(function(n){return i(n)})}).catch(function(n){return i(n)})})},module.exports=lib;